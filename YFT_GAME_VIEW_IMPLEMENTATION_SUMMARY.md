# YFT Game View - Camera Synchronization Implementation

## ‚úÖ –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê

**–î–∞—Ç–∞**: 24 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

---

## üìã –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

‚úÖ **–ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞–º–µ—Ä—ã —Å –∏–≥—Ä–æ–π**
- –ü–æ–∑–∏—Ü–∏—è –∫–∞–º–µ—Ä—ã (X, Y, Z)
- –í—Ä–∞—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã (Pitch, Roll, Yaw)
- Field of View (FOV)
- –£—á–µ—Ç –≤—Ä–∞—â–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è

‚úÖ **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è**
- GTA V –º–∏—Ä–æ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚Üí Three.js –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- –ú–∞—à–∏–Ω–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ (0, 0, 0) –≤–æ –≤—å—é–≤–µ—Ä–µ
- –ö–∞–º–µ—Ä–∞ –¥–≤–∏–∂–µ—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –º–æ–¥–µ–ª–∏

‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- everyTick –Ω–∞ Alt:V Client —Å throttling 60 FPS
- RequestAnimationFrame –Ω–∞ WebView
- Lerp/Slerp —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏

‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**
- OrbitControls –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∞—é—Ç—Å—è –≤ Game View
- Lifecycle —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (start/stop –ø—Ä–∏ –≤—Ö–æ–¥–µ/–≤—ã—Ö–æ–¥–µ)
- ESC –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ Game View

‚úÖ **Debug –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã –≤ –∏–≥—Ä–µ (–∫–∞–º–µ—Ä–∞, –º–∞—à–∏–Ω–∞, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∑–≥–ª—è–¥–∞)
- UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä (FPS, Offset, FOV)
- Console logging —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. Alt:V Client - camera-sync.js (362 —Å—Ç—Ä–æ–∫–∏)
**–ü—É—Ç—å**: `altv-server/resources/meshhub/client/modules/camera-sync.js`

**–§—É–Ω–∫—Ü–∏–∏**:
- `startCameraSync()` - –∑–∞–ø—É—Å–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- `stopCameraSync()` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏  
- `setDebugMode(enabled)` - debug —Ä–µ–∂–∏–º
- `collectCameraSyncData()` - —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥—ã–π —Ç–∏–∫
- `rotatePointAroundOrigin()` - —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- everyTick —Å throttling 16ms (~60 FPS)
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ GTA V natives
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- Debug –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (–º–∞—Ä–∫–µ—Ä—ã –∏ –ª–∏–Ω–∏–∏)
- FPS —Å—á–µ—Ç—á–∏–∫

### 2. WebView - coordinateTransform.ts (229 —Å—Ç—Ä–æ–∫)
**–ü—É—Ç—å**: `meshhub_altv_integration/client/src/utils/coordinateTransform.ts`

**–≠–∫—Å–ø–æ—Ä—Ç—ã**:
- `convertCameraPosition()` - GTA ‚Üí Three.js –ø–æ–∑–∏—Ü–∏—è
- `convertCameraRotation()` - –≥—Ä–∞–¥—É—Å—ã ‚Üí —Ä–∞–¥–∏–∞–Ω—ã
- `transformSyncDataForThreeJS()` - –ø–æ–ª–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è
- `CameraSyncSmoother` - –∫–ª–∞—Å—Å —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è
- `lerp()`, `lerpVec3()`, `slerpRotation()` - –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –£—á–µ—Ç –ø–æ–≤–æ—Ä–æ—Ç–∞ –º–æ–¥–µ–ª–∏ [90¬∞, 180¬∞, 0¬∞]
- –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ —Å factor 0.7
- –¢–∏–ø–∏–∑–∞—Ü–∏—è TypeScript
- Debug —É—Ç–∏–ª–∏—Ç—ã

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**YFT_GAME_VIEW_SYNC.md** - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  
**DOCS/YFT_GAME_VIEW_CAMERA_SYNC.md** - –ø–æ–ª–Ω–∞—è —Å–≤–æ–¥–∫–∞

---

## üîß –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. events.js
**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ò–º–ø–æ—Ä—Ç `camera-sync.js`
- –ü–µ—Ä–µ–¥–∞—á–∞ webview –≤ camera-sync
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –≤ `setWebView()`
- Cleanup –ø—Ä–∏ disconnect

### 2. YftViewer.tsx
**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ù–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `CameraSync`
- Debug UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
- `cameraRef` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–º–µ—Ä–µ
- Lifecycle —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (start/stop events)
- OrbitControls: `enabled={!gameViewMode}`
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ sync —Å–æ–±—ã—Ç–∏—è

### 3. misc-events.js
**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ camera sync

---

## üéÆ –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Alt:V —Å–µ—Ä–≤–µ—Ä**
2. **–í–æ–π–¥–∏—Ç–µ –≤ –∏–≥—Ä—É**
3. **–û—Ç–∫—Ä–æ–π—Ç–µ MeshHub** (F10)
4. **–í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å** (–Ω–∞–ø—Ä–∏–º–µ—Ä, baze_senna)
5. **–ù–∞–∂–º–∏—Ç–µ "YFT Viewer (3D)"**
6. **–ù–∞–∂–º–∏—Ç–µ "Game View"** (–æ—Ä–∞–Ω–∂–µ–≤–∞—è –∫–Ω–æ–ø–∫–∞)
7. **–î–≤–∏–≥–∞–π—Ç–µ –∫–∞–º–µ—Ä—É –≤ –∏–≥—Ä–µ** (–º—ã—à—å, WASD, V –¥–ª—è zoom)
8. ‚úÖ **–ú–æ–¥–µ–ª—å –¥–æ–ª–∂–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –∏–≥—Ä–æ–≤–æ–π –∫–∞–º–µ—Ä–æ–π**

### –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –°—Ç–∞—Ç–∏—á–Ω–∞—è –º–∞—à–∏–Ω–∞
1. –ó–∞—Å–ø–∞–≤–Ω–∏—Ç–µ –º–∞—à–∏–Ω—É (`/meshhub`)
2. –í—ã–π–¥–∏—Ç–µ –∏–∑ –Ω–µ–µ (F)
3. –û—Ç–∫—Ä–æ–π—Ç–µ YFT Viewer ‚Üí Game View
4. –•–æ–¥–∏—Ç–µ –≤–æ–∫—Ä—É–≥ –º–∞—à–∏–Ω—ã
5. ‚úÖ –ú–æ–¥–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Ü–µ–Ω—Ç—Ä–µ, –∫–∞–º–µ—Ä–∞ –¥–≤–∏–≥–∞–µ—Ç—Å—è

#### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –î–≤–∏–∂—É—â–∞—è—Å—è –º–∞—à–∏–Ω–∞
1. –°—è–¥—å—Ç–µ –≤ –º–∞—à–∏–Ω—É
2. –í–∫–ª—é—á–∏—Ç–µ Game View
3. –î–≤–∏–≥–∞–π—Ç–µ—Å—å –ø–æ –≥–æ—Ä–æ–¥—É
4. ‚úÖ –ú–æ–¥–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Ü–µ–Ω—Ç—Ä–µ, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

#### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–≤–æ—Ä–æ—Ç –º–∞—à–∏–Ω—ã
1. –í –º–∞—à–∏–Ω–µ, Game View –∞–∫—Ç–∏–≤–µ–Ω
2. –ü–æ–≤–æ—Ä–∞—á–∏–≤–∞–π—Ç–µ —Ä—É–ª—å –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ
3. ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Ä–∞—â–µ–Ω–∏–µ

#### –°—Ü–µ–Ω–∞—Ä–∏–π 4: Zoom –∫–∞–º–µ—Ä—ã
1. Game View –∞–∫—Ç–∏–≤–µ–Ω
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ V –¥–ª—è zoom in/out
3. ‚úÖ FOV –º–µ–Ω—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

#### –°—Ü–µ–Ω–∞—Ä–∏–π 5: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤
1. Normal View ‚Üí Game View ‚Üí Normal View
2. ‚úÖ OrbitControls –≤–∫–ª—é—á–∞—é—Ç—Å—è/–æ—Ç–∫–ª—é—á–∞—é—Ç—Å—è
3. ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

### Debug –ø—Ä–æ–≤–µ—Ä–∫–∞

**–í–∫–ª—é—á–∏—Ç—å debug –º–∞—Ä–∫–µ—Ä—ã** (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤):

–í `camera-sync.js` –∏–∑–º–µ–Ω–∏—Ç–µ:
```javascript
let debugMode = true  // –±—ã–ª–æ: false
```

**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ –≤ –∏–≥—Ä–µ**:
- üü¢ –ó–µ–ª–µ–Ω–∞—è —Å—Ñ–µ—Ä–∞ = –ø–æ–∑–∏—Ü–∏—è –∫–∞–º–µ—Ä—ã
- üî¥ –ö—Ä–∞—Å–Ω–∞—è —Å—Ñ–µ—Ä–∞ = —Ü–µ–Ω—Ç—Ä –º–∞—à–∏–Ω—ã
- üü° –ñ–µ–ª—Ç–∞—è –ª–∏–Ω–∏—è = —Å–æ–µ–¥–∏–Ω—è–µ—Ç –∫–∞–º–µ—Ä—É –∏ –º–∞—à–∏–Ω—É
- üü£ –§–∏–æ–ª–µ—Ç–æ–≤–∞—è –ª–∏–Ω–∏—è = –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∑–≥–ª—è–¥–∞

**Debug UI** (–ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª –≤ Game View):
- **FPS**: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ~60 (–∑–µ–ª–µ–Ω—ã–π)
- **Offset**: —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –∫–∞–º–µ—Ä—ã –æ—Ç –º–∞—à–∏–Ω—ã –≤ –º–µ—Ç—Ä–∞—Ö
- **FOV**: —Ç–µ–∫—É—â–∏–π —É–≥–æ–ª –æ–±–∑–æ—Ä–∞

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ú–∏–Ω–∏–º—É–º |
|----------|------------------|---------|
| FPS —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ | 60 | 30 |
| –õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å | <16ms | <33ms |
| –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ | factor 0.7 | 0.5-1.0 |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏ –ª–∞–≥–∞—Ö

**–ï—Å–ª–∏ FPS < 30** (—Å–∏—Å—Ç–µ–º–∞ –ª–∞–≥–∞–µ—Ç):

1. –£–≤–µ–ª–∏—á—å—Ç–µ throttling –≤ `camera-sync.js`:
   ```javascript
   const THROTTLE_MS = 33  // 30 FPS –≤–º–µ—Å—Ç–æ 60
   ```

2. –£–º–µ–Ω—å—à–∏—Ç–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –≤ `coordinateTransform.ts`:
   ```javascript
   private readonly smoothFactor = 0.5  // –±—ã–ª–æ 0.7
   ```

3. –û—Ç–∫–ª—é—á–∏—Ç–µ debug:
   ```javascript
   let debugMode = false
   ```

---

## üêõ Troubleshooting

### –ú–æ–¥–µ–ª—å –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**:
- ‚úÖ Game View –∞–∫—Ç–∏–≤–µ–Ω (–∫–Ω–æ–ø–∫–∞ –º–∏–≥–∞–µ—Ç –æ—Ä–∞–Ω–∂–µ–≤—ã–º)
- ‚úÖ –í—ã –≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –º–∞—à–∏–Ω–µ)
- ‚úÖ Console: –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ `[CameraSync] üé• Starting...`
- ‚úÖ Debug UI: FPS > 0

### –ú–æ–¥–µ–ª—å –¥–µ—Ä–≥–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
- –£–≤–µ–ª–∏—á—å—Ç–µ `smoothFactor` –¥–æ 0.8-0.9
- –£–º–µ–Ω—å—à–∏—Ç–µ `THROTTLE_MS` –¥–æ 10-12

### –ù–∏–∑–∫–∏–π FPS —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ**:
- –£–≤–µ–ª–∏—á—å—Ç–µ `THROTTLE_MS` –¥–æ 33 (30 FPS)
- –û—Ç–∫–ª—é—á–∏—Ç–µ debug –º–∞—Ä–∫–µ—Ä—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±—â–∏–π FPS –∏–≥—Ä—ã

### –ú–æ–¥–µ–ª—å —Å–º–µ—â–µ–Ω–∞

**–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞** (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞):

–í `coordinateTransform.ts` ‚Üí `convertCameraPosition()`:
```typescript
return {
  x: -gtaRelativePos.x + OFFSET_X,  // –î–æ–±–∞–≤—å—Ç–µ offset
  y: gtaRelativePos.y + OFFSET_Y,
  z: -gtaRelativePos.z + OFFSET_Z
}
```

–ü–æ–¥–±–µ—Ä–∏—Ç–µ OFFSET_X/Y/Z —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ.

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°–æ–±—ã—Ç–∏—è

**WebView ‚Üí Client**:
- `yft-viewer:camera:sync:start` - —Å—Ç–∞—Ä—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- `yft-viewer:camera:sync:stop` - —Å—Ç–æ–ø —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

**Client ‚Üí WebView**:
- `yft-viewer:camera:sync` - –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–∫–∞–∂–¥—ã–π –∫–∞–¥—Ä)
- `yft-viewer:sync:fps` - FPS (—Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ sync –¥–∞–Ω–Ω—ã—Ö

```typescript
{
  camera: {
    position: { x, y, z },  // –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –º–∞—à–∏–Ω—ã
    rotation: { x, y, z },  // –ì—Ä–∞–¥—É—Å—ã
    fov: number
  },
  vehicle: {
    rotation: { x, y, z }   // –ì—Ä–∞–¥—É—Å—ã
  },
  debug?: {
    camWorldPos: { x, y, z },
    vehicleWorldPos: { x, y, z }
  }
}
```

### –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

```
GTA V Camera (world)
  ‚Üì - Vehicle Position
Relative Camera Position (GTA V local)
  ‚Üì rotatePointAroundOrigin(-vehicle.rotation)
Relative Camera Position (vehicle local space)
  ‚Üì convertCameraPosition() ‚Üí invert X and Z
Three.js Camera Position
  ‚Üì lerp smoothing
Final Camera Position (applied to Three.js)
```

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

1. **–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å WebView**:
   ```bash
   cd meshhub_altv_integration
   npm run build
   ```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Alt:V —Å–µ—Ä–≤–µ—Ä** (–∏–ª–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ—Å—É—Ä—Å)

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –∏–≥—Ä–µ**:
   - F10 ‚Üí Vehicles ‚Üí YFT Viewer ‚Üí Game View

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–±—É–¥—É—â–µ–µ)

- üîÑ Adaptive throttling (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞)
- üéØ Predictive smoothing (–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ)
- üìπ –ó–∞–ø–∏—Å—å —Å–µ—Å—Å–∏–π (replay)
- üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è debug UI
- üöó –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–∞—à–∏–Ω

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. Console logs –≤ –∏–≥—Ä–µ (F8)
2. Browser console (F12 –≤ Dev Tools –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ localhost:3000)
3. Debug UI –≤ Game View (FPS, Offset, FOV)

**–õ–æ–≥–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å**:
- `[CameraSync] ‚úÖ Camera sync module loaded`
- `[CameraSync] üé• Starting camera synchronization...`
- `[YftViewer] ‚úÖ Subscribed to camera sync events`

---

## üìÑ –ò—Ç–æ–≥–æ

**–°–æ–∑–¥–∞–Ω–æ**:
- 3 –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–∞ (~600 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
- 2 —Ñ–∞–π–ª–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–ò–∑–º–µ–Ω–µ–Ω–æ**:
- 3 —Ñ–∞–π–ª–∞ (events.js, YftViewer.tsx, misc-events.js)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞–º–µ—Ä—ã
- ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è
- ‚úÖ –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏–π
- ‚úÖ Debug –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ**

