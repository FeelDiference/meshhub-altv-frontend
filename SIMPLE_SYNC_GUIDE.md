# Simple Camera Sync - –†–∞–±–æ—á–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –£–±—Ä–∞–Ω –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `getCamMatrix()`
**–ë—ã–ª–æ**: –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å matrix –∫–∞–º–µ—Ä—ã —á–µ—Ä–µ–∑ `native.getCamMatrix()` (–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)  
**–°—Ç–∞–ª–æ**: –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ—Å—Ç—ã–µ `getGameplayCamRot()` –¥–ª—è –≠–π–ª–µ—Ä–æ–≤—ã—Ö —É–≥–ª–æ–≤

### 2. –í–µ—Ä–Ω—É–ª–∞—Å—å –ø—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
**–ë—ã–ª–æ**: –°–ª–æ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –≤–µ–∫—Ç–æ—Ä–∞–º–∏ forward/up/right  
**–°—Ç–∞–ª–æ**: –ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ `camera.position` –∏ `camera.rotation`

### 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã
‚úÖ –ú–æ–¥–µ–ª—å –≤ —Ü–µ–Ω—Ç—Ä–µ (0,0,0)  
‚úÖ –ë–∞–∑–æ–≤—ã–π –ø–æ–≤–æ—Ä–æ—Ç –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ `YFT_BASE_ROTATION`  
‚úÖ –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞–º–µ—Ä—ã  
‚úÖ –í—Ä–∞—â–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å –º–∞—à–∏–Ω–æ–π  

---

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å

### 1. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ

```bash
cd meshhub_altv_integration
npm run build
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Alt:V —Å–µ—Ä–≤–µ—Ä

**–ü–æ–ª–Ω—ã–π restart!**

### 3. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –±–∞–∑–æ–≤—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

1. **–°—è–¥—å—Ç–µ –≤ –º–∞—à–∏–Ω—É**
2. F10 ‚Üí Vehicles ‚Üí YFT Viewer ‚Üí **Game View**
3. **–í–∫–ª—é—á–∏—Ç–µ "Debug Axes"**

### 4. –ù–∞–±–ª—é–¥–∞–π—Ç–µ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä—É–π—Ç–µ

#### –ü—Ä–æ–±–ª–µ–º–∞ 1: Pitch –≤—Ä–∞—â–∞–µ—Ç –ø–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ—Å–∏

**–¢–µ—Å—Ç**: –î–≤–∏–≥–∞–π—Ç–µ –º—ã—à–∫–æ–π –≤–≤–µ—Ä—Ö-–≤–Ω–∏–∑

**–ï—Å–ª–∏ –º–æ–¥–µ–ª—å –≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ Y (–∑–µ–ª–µ–Ω–∞—è –æ—Å—å) –≤–º–µ—Å—Ç–æ X (–∫—Ä–∞—Å–Ω–∞—è)**:
‚Üí –ü—Ä–æ–±–ª–µ–º–∞ –≤ –º–∞–ø–ø–∏–Ω–≥–µ –æ—Å–µ–π –≤—Ä–∞—â–µ–Ω–∏—è

#### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ú–æ–¥–µ–ª—å –∑–µ—Ä–∫–∞–ª—å–Ω–∞—è

**–¢–µ—Å—Ç**: –°–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –º–∞—à–∏–Ω—É —Å–∑–∞–¥–∏

**–ï—Å–ª–∏ –≤ WebView –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –≤–º–µ—Å—Ç–æ –∑–∞–¥–∞**:
‚Üí –ù—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å `YFT_BASE_ROTATION`

#### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ú–æ–¥–µ–ª—å —É–ª–µ—Ç–∞–µ—Ç –ø–æ –¥–∏–∞–≥–æ–Ω–∞–ª–∏

**–¢–µ—Å—Ç**: –í—Ä–∞—â–∞–π—Ç–µ—Å—å –≤–æ–∫—Ä—É–≥ –º–∞—à–∏–Ω—ã (–º—ã—à–∫–æ–π –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏)

**–ï—Å–ª–∏ –º–æ–¥–µ–ª—å –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ –≤—Ä–∞—â–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã**:
‚Üí –ü—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö position

---

## üîß –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ YFT_BASE_ROTATION

### –§–∞–π–ª
`meshhub_altv_integration/client/src/utils/coordinateTransform.ts`

### –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
```typescript
export const YFT_BASE_ROTATION: [number, number, number] = [
  Math.PI / 2,  // X: 90¬∞
  Math.PI,      // Y: 180¬∞
  0             // Z: 0¬∞
]
```

### –í–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∞ (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É)

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –£–±—Ä–∞—Ç—å 180¬∞ –ø–æ Y (–≤–æ–∑–º–æ–∂–Ω–æ —ç—Ç–æ –∑–µ—Ä–∫–∞–ª–æ)
```typescript
[Math.PI/2, 0, 0] // [90¬∞, 0¬∞, 0¬∞]
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–æ—Ä–æ—Ç –ø–æ X
```typescript
[-Math.PI/2, Math.PI, 0] // [-90¬∞, 180¬∞, 0¬∞]
```

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –ë–µ–∑ –ø–æ–≤–æ—Ä–æ—Ç–æ–≤ (–º–æ–¥–µ–ª—å –∫–∞–∫ –≤ .yft —Ñ–∞–π–ª–µ)
```typescript
[0, 0, 0] // [0¬∞, 0¬∞, 0¬∞]
```

#### –í–∞—Ä–∏–∞–Ω—Ç 4: –¢–æ–ª—å–∫–æ 180¬∞ –ø–æ Y (—Ä–∞–∑–≤–æ—Ä–æ—Ç)
```typescript
[0, Math.PI, 0] // [0¬∞, 180¬∞, 0¬∞]
```

#### –í–∞—Ä–∏–∞–Ω—Ç 5: 90¬∞ –ø–æ Z –≤–º–µ—Å—Ç–æ X
```typescript
[0, 0, Math.PI/2] // [0¬∞, 0¬∞, 90¬∞]
```

---

## üîß –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –º–∞–ø–ø–∏–Ω–≥–∞ –æ—Å–µ–π rotation

### –§–∞–π–ª
`meshhub_altv_integration/client/src/utils/coordinateTransform.ts`

### –¢–µ–∫—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è
```typescript
export function convertCameraRotation(gtaRotation: Vec3): Vec3 {
  const DEG_TO_RAD = Math.PI / 180
  
  // –ü–µ—Ä–µ—Å—Ç–∞–≤–ª—è–µ–º –æ—Å–∏ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è Three.js
  return {
    x: gtaRotation.x * DEG_TO_RAD,  // pitch –æ—Å—Ç–∞–µ—Ç—Å—è X
    y: gtaRotation.z * DEG_TO_RAD,  // yaw: GTA.z ‚Üí Three.js Y
    z: gtaRotation.y * DEG_TO_RAD   // roll: GTA.y ‚Üí Three.js Z
  }
}
```

### –ï—Å–ª–∏ pitch –≤—Ä–∞—â–∞–µ—Ç –ø–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ—Å–∏

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ** (–±–µ–∑ –ø–µ—Ä–µ—Å—Ç–∞–≤–ª–µ–Ω–∏—è):
```typescript
return {
  x: gtaRotation.x * DEG_TO_RAD,  // pitch ‚Üí X
  y: gtaRotation.y * DEG_TO_RAD,  // roll ‚Üí Y
  z: gtaRotation.z * DEG_TO_RAD   // yaw ‚Üí Z
}
```

**–ò–ª–∏ –¥—Ä—É–≥–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏**:
```typescript
// –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–Ω–≤–µ—Ä—Å–∏—è –∑–Ω–∞–∫–æ–≤
return {
  x: -gtaRotation.x * DEG_TO_RAD,
  y: -gtaRotation.y * DEG_TO_RAD,
  z: gtaRotation.z * DEG_TO_RAD
}

// –í–∞—Ä–∏–∞–Ω—Ç 3: –î—Ä—É–≥–æ–π –ø–æ—Ä—è–¥–æ–∫ –æ—Å–µ–π
return {
  x: gtaRotation.y * DEG_TO_RAD,
  y: gtaRotation.x * DEG_TO_RAD,
  z: gtaRotation.z * DEG_TO_RAD
}
```

---

## üìä –ü—Ä–æ—Ü–µ—Å—Å –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏

### –®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É

- ‚ùå **–ú–æ–¥–µ–ª—å –∑–µ—Ä–∫–∞–ª—å–Ω–∞—è** ‚Üí –ö–∞–ª–∏–±—Ä—É–π—Ç–µ `YFT_BASE_ROTATION`
- ‚ùå **Pitch/Yaw –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ** ‚Üí –ö–∞–ª–∏–±—Ä—É–π—Ç–µ –º–∞–ø–ø–∏–Ω–≥ –æ—Å–µ–π
- ‚ùå **–ú–æ–¥–µ–ª—å —É–ª–µ—Ç–∞–µ—Ç** ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã position

### –®–∞–≥ 2: –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è

**–û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –º–µ–Ω—è–π—Ç–µ –¢–û–õ–¨–ö–û –û–î–ù–û**:
- –õ–∏–±–æ `YFT_BASE_ROTATION`
- –õ–∏–±–æ `convertCameraRotation()`
- –õ–∏–±–æ `convertCameraPosition()`

### –®–∞–≥ 3: –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ

```bash
npm run build
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Alt:V —Å–µ—Ä–≤–µ—Ä–∞
```

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ

1. Game View
2. Debug Axes ON
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É

### –®–∞–≥ 5: –ü–æ–≤—Ç–æ—Ä—è–π—Ç–µ

–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ –ø–æ–¥–±–∏—Ä–∞–π—Ç–µ –ø–æ–∫–∞ –≤—Å–µ –Ω–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏:

‚úÖ **–û—Å–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç** (–∫—Ä–∞—Å–Ω—ã–µ/–∑–µ–ª–µ–Ω—ã–µ/—Å–∏–Ω–∏–µ –≤ –∏–≥—Ä–µ –∏ WebView)  
‚úÖ **–ú–æ–¥–µ–ª—å –Ω–µ –∑–µ—Ä–∫–∞–ª—å–Ω–∞—è** (–∑–∞–¥ —Å–∑–∞–¥–∏, –ø–µ—Ä–µ–¥ —Å–ø–µ—Ä–µ–¥–∏)  
‚úÖ **Pitch —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ** (–≤–≤–µ—Ä—Ö-–≤–Ω–∏–∑ –º—ã—à–∫–æ–π)  
‚úÖ **Yaw —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ** (–≤–ª–µ–≤–æ-–≤–ø—Ä–∞–≤–æ –º—ã—à–∫–æ–π)  
‚úÖ **–ú–æ–¥–µ–ª—å –Ω–µ —É–ª–µ—Ç–∞–µ—Ç** (–æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Ü–µ–Ω—Ç—Ä–µ –ø—Ä–∏ –≤—Ä–∞—â–µ–Ω–∏–∏)  

---

## üìù –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

‚úÖ **Alt:V Client** - —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `getGameplayCamRot()`  
‚úÖ **–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã** - camera - vehicle position  
‚úÖ **–ü—Ä–æ—Å—Ç–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö** - –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π  
‚úÖ **WebView –ø—Ä–∏–º–µ–Ω—è–µ—Ç** - position + rotation –Ω–∞–ø—Ä—è–º—É—é  
‚úÖ **FPS ~100-137** - –æ—Ç–ª–∏—á–Ω–æ  
‚úÖ **Debug Axes** - –≤–∏–¥–Ω—ã –≤ –∏–≥—Ä–µ –∏ WebView  

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "getCamMatrix is not a function"

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ! –£–±—Ä–∞–Ω –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥.

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–æ–¥–µ–ª—å –≤—Å–µ –µ—â–µ –∑–µ—Ä–∫–∞–ª—å–Ω–∞—è

**–†–µ—à–µ–Ω–∏–µ**: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã `YFT_BASE_ROTATION` –ø–æ –ø–æ—Ä—è–¥–∫—É (—Å–º. –≤—ã—à–µ)

### –ü—Ä–æ–±–ª–µ–º–∞: Pitch/Yaw –ø–µ—Ä–µ–ø—É—Ç–∞–Ω—ã

**–†–µ—à–µ–Ω–∏–µ**: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –º–∞–ø–ø–∏–Ω–≥–∞ –≤ `convertCameraRotation()` (—Å–º. –≤—ã—à–µ)

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–æ–¥–µ–ª—å —É–ª–µ—Ç–∞–µ—Ç –ø—Ä–∏ –≤—Ä–∞—â–µ–Ω–∏–∏

**–ü—Ä–∏—á–∏–Ω—ã**:
1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è `convertCameraPosition()` - –∏–Ω–≤–µ—Ä—Å–∏—è –æ—Å–µ–π
2. –ú–æ–¥–µ–ª—å –Ω–µ –≤ —Ü–µ–Ω—Ç—Ä–µ (0,0,0) - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `VehicleModel` position
3. –í—Ä–∞—â–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –Ω–µ —É—á—Ç–µ–Ω–æ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `YFT_BASE_ROTATION` + vehicle rotation

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤ Game View:
```typescript
position={[0, 0, 0]}  // –ú–æ–¥–µ–ª—å –°–¢–†–û–ì–û –≤ —Ü–µ–Ω—Ç—Ä–µ
rotation={YFT_BASE_ROTATION + vehicleRotation}  // –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ
```

---

**–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ, —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ!** üöÄ

–°–æ–æ–±—â–∏—Ç–µ –∫–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞–±–ª—é–¥–∞–µ—Ç–µ –∏ —è –ø–æ–º–æ–≥—É —Å –∫–∞–ª–∏–±—Ä–æ–≤–∫–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤!

