# Interior Live Edit - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## üìã –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª **Live Edit** –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤ - –æ—Ç–¥–µ–ª—å–Ω—ã–π overlay –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –û–±–Ω–æ–≤–ª–µ–Ω InteriorDetails.tsx

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ UI:**
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ –ø–æ–ª–µ "–ù–∞–∑–≤–∞–Ω–∏–µ" –∏–∑ –±–ª–æ–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–¥—É–±–ª–∏—Ä—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫)
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ –ø–æ–ª–µ "–õ–æ–∫–∞—Ü–∏–π" (–¥—É–±–ª–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ —Å–ø–∏—Å–∫–∞)
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ –ø–æ–ª–µ "–†–∞–∑–º–µ—Ä" (–¥—É–±–ª–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ —Å–ø–∏—Å–∫–∞)
- ‚úÖ –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–º—è –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞: `interior.displayName || interior.name`
- ‚úÖ –°–µ–∫—Ü–∏—è "–ü–æ—Ä—Ç–∞–ª—ã" –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –≤ "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å –≤ –∏–≥—Ä–µ" –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –≤ "–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ—Ä—Ç–∞–ª—ã"
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω—ã —Ä–∞–∑–º–µ—Ä—ã –∫–Ω–æ–ø–∫–∏ –ø–æ—Ä—Ç–∞–ª–æ–≤: padding `p-3.5`, –∏–∫–æ–Ω–∫–∞ `w-5 h-5`, —Ç–µ–∫—Å—Ç `text-sm`

**–ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å —Å –æ—Ç—Å—Ç—É–ø–æ–º –ø–æ—Å–ª–µ –∫–Ω–æ–ø–∫–∏ –ø–æ—Ä—Ç–∞–ª–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "Live Edit" —Å toggle —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
- ‚úÖ –ù–æ–≤—ã–µ props: `liveEditVisible`, `onToggleLiveEdit`
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã: `Monitor`, `MonitorOff` –∏–∑ lucide-react

### 2. –°–æ–∑–¥–∞–Ω InteriorLiveEdit.tsx

–ù–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç overlay –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤:

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `meshhub_altv_integration/client/src/components/interiors/InteriorLiveEdit.tsx`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π overlay (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏)
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç Interior ID (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (X, Y, Z) –≤ —Ñ–æ—Ä–º–∞—Ç–µ —Å 2 –∑–Ω–∞–∫–∞–º–∏ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö entity
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
- ‚úÖ –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è: cyan —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞, backdrop blur, border glow

**Props:**
```typescript
interface InteriorLiveEditProps {
  isVisible: boolean
  onToggle: () => void
  currentInteriorId?: number
}
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω InteriorsPage.tsx

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ State: `liveEditVisible` (boolean)
- ‚úÖ Handler: `handleToggleLiveEdit()` —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Å–æ–±—ã—Ç–∏–π –≤ Alt:V
- ‚úÖ –ü–µ—Ä–µ–¥–∞—á–∞ props –≤ InteriorDetails: `liveEditVisible`, `onToggleLiveEdit`
- ‚úÖ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ Live Edit —á–µ—Ä–µ–∑ Portal –≤ –∫–æ–Ω—Ü–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- ‚úÖ –ò–º–ø–æ—Ä—Ç: `InteriorLiveEdit` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

## üîå Alt:V Integration (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

### –°–æ–±—ã—Ç–∏—è WebView ‚Üí Alt:V Client

#### 1. `interior:liveedit:enable`
–í–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º Live Edit.

**–î–∞–Ω–Ω—ã–µ:** –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

**–î–µ–π—Å—Ç–≤–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
- –ù–∞—á–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö –≤ WebView —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∂–¥—ã–µ 100-200ms)
- –í—ã—á–∏—Å–ª—è—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- –°—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ entity

#### 2. `interior:liveedit:disable`
–í—ã–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º Live Edit.

**–î–∞–Ω–Ω—ã–µ:** –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

**–î–µ–π—Å—Ç–≤–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö
- –û—á–∏—Å—Ç–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### 3. `interior:liveedit:request`
–ó–∞–ø—Ä–æ—Å –Ω–∞—á–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ Live Edit.

**–î–∞–Ω–Ω—ã–µ:**
```typescript
{
  interiorId?: number  // GTA V interior ID (–º–æ–∂–µ—Ç –±—ã—Ç—å undefined)
}
```

**–î–µ–π—Å—Ç–≤–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –æ–¥–∏–Ω —Ä–∞–∑ —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏–µ `interior:liveedit:update`

### –°–æ–±—ã—Ç–∏—è Alt:V Client ‚Üí WebView

#### 1. `interior:liveedit:update`
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Live Edit (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∫–æ–≥–¥–∞ —Ä–µ–∂–∏–º –≤–∫–ª—é—á–µ–Ω).

**–î–∞–Ω–Ω—ã–µ:**
```typescript
{
  localCoords: {
    x: number  // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ entry point –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞
    y: number  // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ entry point –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞
    z: number  // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Z –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ entry point –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞
  },
  entityCount: number  // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö entity (—á–µ—Ä–µ–∑ –Ω–∞—Ç–∏–≤–∫—É Alt:V)
}
```

**–í—ã—á–∏—Å–ª–µ–Ω–∏–µ localCoords:**
```typescript
// –ü—Å–µ–≤–¥–æ–∫–æ–¥
const playerPos = alt.Player.local.pos
const interiorEntryPoint = getInteriorEntryPoint(currentInteriorId)

const localCoords = {
  x: playerPos.x - interiorEntryPoint.x,
  y: playerPos.y - interiorEntryPoint.y,
  z: playerPos.z - interiorEntryPoint.z
}
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ entityCount:**
```typescript
// –ß–µ—Ä–µ–∑ –Ω–∞—Ç–∏–≤–∫—É Alt:V
const entityCount = alt.getEntityCount() // –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
```

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. `meshhub_altv_integration/client/src/components/interiors/InteriorDetails.tsx` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
2. `meshhub_altv_integration/client/src/components/interiors/InteriorLiveEdit.tsx` - –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (—Å–æ–∑–¥–∞–Ω)
3. `meshhub_altv_integration/client/src/pages/interiors/InteriorsPage.tsx` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

## üé® UI –î–µ—Ç–∞–ª–∏

### Live Edit Overlay

**–ü–æ–∑–∏—Ü–∏—è:** `fixed bottom-24 right-4`
**Z-index:** `z-50`
**–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞:** `280px`

**–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:**
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: cyan-400
- –ì—Ä–∞–Ω–∏—Ü–∞: cyan-500/50
- –§–æ–Ω: base-900/95 —Å backdrop-blur
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã X: green-400
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã Y: blue-400
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã Z: purple-400
- Entity count: orange-400

**–ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è:**
- –ö—Ä–∞—Å–Ω–∞—è (red-600/red-700)
- –ö—Ä—É–≥–ª–∞—è —Ñ–æ—Ä–º–∞
- –°–∏–º–≤–æ–ª: √ó
- –†–∞–∑–º–µ—Ä: 6x6

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. **–û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤**
2. **–í—ã–±—Ä–∞—Ç—å –∏–Ω—Ç–µ—Ä—å–µ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞** (–ø—Ä–∞–≤—ã–µ –ø–∞–Ω–µ–ª–∏ –æ—Ç–∫—Ä–æ—é—Ç—Å—è)
3. **–í –ø–∞–Ω–µ–ª–∏ "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"** –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É **"Live Edit"**
4. **Overlay –ø–æ—è–≤–∏—Ç—Å—è –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É** —ç–∫—Ä–∞–Ω–∞
5. **–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** (–∫–æ–≥–¥–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
6. **–ó–∞–∫—Ä—ã—Ç—å** –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑:
   - –ö–Ω–æ–ø–∫—É √ó –≤ overlay
   - –ö–Ω–æ–ø–∫—É "Live Edit" –≤ –ø–∞–Ω–µ–ª–∏ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- Live Edit —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤–∏–¥–∏–º–æ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏ –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –≤–∏–¥–∏–º—ã–º –¥–∞–∂–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–∞–Ω–µ–ª–µ–π —á–µ—Ä–µ–∑ ESC
- –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ Alt:V –∫–ª–∏–µ–Ω—Ç–∞
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ entry point –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞ (0,0,0 –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞)
- Entity count - —ç—Ç–æ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Å–µ—Ö entity –≤–æ–∫—Ä—É–≥ –∏–≥—Ä–æ–∫–∞ (—á–µ—Ä–µ–∑ –Ω–∞—Ç–∏–≤–∫—É Alt:V)

## ‚ú® –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è –±—É–¥—É—â–µ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:

- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ (FPS, memory usage –∏ —Ç.–¥.)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–Ω–∞—Ç–∞—Ö
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ entity sets
- Debugging –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Ä—Ç–∞–ª–∞—Ö
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è bounding boxes

–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ–±—ã—Ç–∏–∏ `interior:liveedit:update` –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã UI –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

